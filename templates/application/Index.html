{% extends "Base.html" %}

{% block TITLE %}YaraGuardian{% endblock TITLE %}

{% block BODY_CONTENT %}

  <div ng-app="yaraGuardian" ng-controller="AccountManagementController as AccountCtrl">

    {% include 'Navbar.html' %}

    <div ng-controller="RuleStatsController as StatsCtrl">
      <div ng-controller="RuleSearchController as SearchCtrl">
        {% include 'application/components/Messages.html' %}
        <div ng-controller="RuleBulkController as BulkCtrl">
          <div ng-controller="RuleController as RuleCtrl">

            <div class="well">
              {% include 'application/components/RuleMenu.html' %}

              <uib-tabset>
                <uib-tab>
                  <uib-tab-heading>
                    <span class="glyphicon glyphicon-stats" aria-hidden="true"></span> Rule Stats
                  </uib-tab-heading>
                  <br>
                  {% include 'application/components/RuleStats.html' %}
                </uib-tab>

                <uib-tab>
                  <uib-tab-heading>
                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Rule Search
                  </uib-tab-heading>
                  {% include 'application/forms/RuleSearchForm.html' %}
                </uib-tab>

                <uib-tab>
                  <uib-tab-heading>
                    <span class="glyphicon glyphicon-open" aria-hidden="true"></span> Rule Submission
                  </uib-tab-heading>
                  {% include 'application/forms/RuleSubmissionForm.html' %}
                </uib-tab>

                <uib-tab ng-if="AccountCtrl.userIsOwnerOrAdmin() && SearchCtrl.search.results.length">
                  <uib-tab-heading>
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Rule Editor
                  </uib-tab-heading>
                  {% include 'application/forms/RuleBulkEditForm.html' %}
                </uib-tab>

                <uib-tab>
                  <uib-tab-heading>
                    {% verbatim %}
                      <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Group Manager
                    {% endverbatim %}
                  </uib-tab-heading>
                  {% include 'application/components/GroupOwnerConsole.html' %}
                </uib-tab>
              </uib-tabset>
            </div>

            {% include 'application/components/RuleList.html' %}

            {% include 'application/components/AccountModalRead.html' %}
            {% include 'application/components/RuleModalRead.html' %}
            {% include 'application/components/RuleModalWrite.html' %}
            {% include 'application/components/CommentModalRead.html' %}
            {% include 'application/components/CommentModalWrite.html' %}
          </div> <!-- RuleCtrl -->
        </div> <!-- BulkEditCtrl -->
      </div> <!-- SearchCtrl -->
    </div> <!-- StatsCtrl -->
  </div> <!-- AccountCtrl -->
{% endblock BODY_CONTENT %}


{% block FOOTER_CONTENT %}
{% endblock FOOTER_CONTENT %}
